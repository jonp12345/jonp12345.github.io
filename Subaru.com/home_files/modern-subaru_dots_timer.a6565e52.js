(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{1170:function(t,i,s){"use strict";s(767)},1171:function(t,i,s){},1467:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return t.isInitAllowed?s("div",{class:t.getMainClassList},[s("svg",{staticClass:"dots-navigation-timer__progress-ring",style:t.getRingTransitionStyle,attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 19.35 19.35"}},[s("circle",{ref:"circle-ring",class:t.getRingClassList,attrs:{cx:"50%",cy:"50%",r:"7.95","stroke-width":"1.64",fill:"transparent"}})]),t._v(" "),s("ul",{staticClass:"dots-navigation dots-navigation-timer__showcase",attrs:{role:"tablist"}},t._l(t.computedDotsCount,(function(i){return s("li",{key:i,ref:"array-dots",refInFor:!0,staticClass:"dots-navigation__dot",attrs:{"aria-selected":t.getAriaSelected(i-1),"aria-label":t.getAriaLabel(i-1),tabindex:"0",role:"tab"},on:{click:function(s){return s.stopPropagation(),t.dotsNavigationRefresh(i-1)},keyup:function(s){return!s.type.indexOf("key")&&t._k(s.keyCode,"enter",13,s.key,"Enter")?null:t.dotsNavigationRefresh(i-1)}}})})),0)]):t._e()};e._withStripped=!0;var n=s(423),a="dots-navigation-timer",r={BLOCK:a,RING_PROGRESS:a+"__progress-ring-circle",RING_PROGRESS_FULL_OPACITY:a+"__progress-ring-circle--full-opacity"},o={name:"subaru-dots-timer",mixins:[n.a],props:{theme:{type:String,default:"--dark"},startState:{type:Boolean,default:!1},isPaused:{type:Boolean,default:!1},toBePausedState:{type:Boolean,default:!1},isResuming:{type:Boolean,default:!1},isTransitioning:{type:Boolean,default:!1},resumeElapsed:{Type:Number,default:0},itemsLabels:{type:Array,default:()=>["","",""]},itemsDuration:{type:Array,default:()=>[7e3,7e3,7e3]}},data:()=>({ring:{translateAndAnimate:()=>{},translateRight:0,progress:0,opacityClass:"",circumference:0,animationReverse:!1,id:0,startTime:null,duration:7e3,startPosition:0,distance:100},isStarted:!1}),created(){this.$subaruUtils.setAnimationFrame()},mounted(){this.setTranslateFunction(),this.isInitAllowed&&this.dotsNavigation(this.itemActive)},watch:{isPaused(t){this.isStarted&&(t?this.isInitAllowed&&(this.pausedState(),this.toBePaused&&this.emptyTheRing()):this.startAnimation())},startState(t){t&&this.isInitAllowed&&(this.init(),this.isStarted=!0)},toBePausedState(t){this.toBePaused=t}},computed:{getRingClassList(){return"".concat(r.RING_PROGRESS," ").concat(this.ring.opacityClass)},getMainClassList(){var t=r.BLOCK;return t+=" ".concat(r.BLOCK).concat(this.theme)},getRingTransitionStyle(){return{transform:"translateX(".concat(this.ring.translateRight,"px)")}},computedDotsCount(){return this.itemsCount>2?3:this.itemsCount},isInitAllowed(){return this.showDots&&this.itemsCount>1}},methods:{init(){this.initRing(),this.startAnimation()},setTranslateFunction(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1400;this.ring.translateAndAnimate=this.$debounce(()=>{this.ring.translateRight=23.059*this.currentActive,this.isPaused||this.startAnimation()},t)},pausedState(){this.stopAnimation()},initRing(){if(this.isRingAvailable()){var t=this.$refs["circle-ring"].r.baseVal.value;this.ring.circumference=2*t*Math.PI,this.$refs["circle-ring"].style.strokeDasharray="".concat(this.ring.circumference," ").concat(this.ring.circumference),this.$refs["circle-ring"].style.strokeDashoffset="".concat(this.ring.circumference)}},setRingProgress(t){this.ring.progress=t;var i="-".concat(this.ring.circumference-(this.ring.circumference-t/100*this.ring.circumference));this.animationReverse&&(i="".concat(this.ring.circumference-t/100*this.ring.circumference)),this.$refs["circle-ring"].style.strokeDashoffset=i},fillTheRing(){this.ring.opacityClass="",this.isRingAvailable()&&this.setRingProgress(0)},emptyTheRing(){this.ring.opacityClass="",this.isRingAvailable()&&this.setRingProgress(100)},startAnimation(){this.fillTheRing(),this.ring.opacityClass=r.RING_PROGRESS_FULL_OPACITY,this.itemsDuration.length>=this.currentActive+1?this.ring.duration=this.itemsDuration[this.currentActive]:this.ring.duration=7e3,this.ring.startTime=null,this.isRingAvailable()&&(this.ring.id=window.requestAnimationFrame(this.animation))},isRingAvailable(){return void 0!==this.$refs["circle-ring"]},stopAnimation(){window.cancelAnimationFrame(this.ring.id)},animation(t){null===this.ring.startTime&&(this.ring.startTime=t);var i=this.isResuming?t+this.resumeElapsed-this.ring.startTime:t-this.ring.startTime,s=this.$subaruUtils.animationEase(i,this.ring.startPosition,this.ring.distance,this.ring.duration);this.setRingProgress(Math.min(s,this.ring.distance)),i<this.ring.duration?this.ring.id=window.requestAnimationFrame(this.animation):(this.emptyTheRing(),this.stopAnimation())},getAriaSelected(t){return"".concat(this.currentActive===t)},getAriaLabel(t){return this.itemsLabels.length>=t?this.itemsLabels[t]:""},dotsNavigationRefresh(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===t?this.setActive():this.isTransitioning||t!==this.currentActive||this.isPaused?this.isTransitioning||t===this.currentActive||(this.setActive(t),this.$emit("different-dot-clicked",this.currentActive)):(this.setActive(t,0),this.$emit("same-dot-clicked",this.currentActive))},setActive(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.itemActive,i=arguments.length>1?arguments[1]:void 0;void 0===i?this.setTranslateFunction():this.setTranslateFunction(i),this.currentActive=this.setActiveDot(t),this.stopAnimation(),this.emptyTheRing(),this.ring.translateAndAnimate(),this.dotsNavigation(this.currentActive)},dotsNavigation(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.isInitAllowed){var i,s="dots-navigation__dot--",e=["large-dot","medium-dot","small-dot"],n=e.length;if(this.itemsCount>4)i=0===t||1===t?t:t===this.itemsCount-1?4:t===this.itemsCount-2?3:2,this.dotsNavigationSetState(s,i,0,e,n);else this.dotsNavigationClearClass(s,t,e,this.$refs["array-dots"])}}}},l=(s(1170),s(4)),h=Object(l.a)(o,e,[],!1,null,null,null);h.options.__file="content/jcr_root/apps/subaru/components/content/commons/Dots/webpack.module/js/Dots_Timer_Interactive.vue";i.default=h.exports},423:function(t,i,s){"use strict";i.a={name:"dots-core-mixin",props:{itemActive:{type:Number,default:0},showDots:{type:Boolean,default:!0},itemsCount:{type:Number,default:1},isCircular:{type:Boolean,default:!0}},data:()=>({currentActive:0,flagIsSecondRound:!1}),watch:{itemActive(t){(t!==this.currentActive||this.isCloned())&&this.dotsNavigationRefresh()},itemsCount(t){t!==this.currentActive&&this.dotsNavigationRefresh()}},methods:{dotsNavigationSetState(t,i,s,e,n){if(this.dotsNavigationClearClass(t,i,e,this.$refs["array-dots"]),0===i)this.dotsNavigationFirstState(t,i,s,e,this.$refs["array-dots"],n);else if(i===this.computedDotsCount-1)this.dotsNavigationLastState(t,i,s,e,this.$refs["array-dots"],n);else if(i===this.computedDotsCount-2)this.dotsNavigationSecondLastState(t,i,s,e,this.$refs["array-dots"],n);else if(1===i)this.dotsNavigationSecondState(t,i,s,e,this.$refs["array-dots"],n);else{for(var a=i+1;a<this.computedDotsCount;a++)s=s<n-1?s+1:n-1,this.$refs["array-dots"][a].classList.add(t+e[s]);s=0;for(var r=i-1;r>=0;r--)s=s<n-1?s+1:n-1,this.$refs["array-dots"][r].classList.add(t+e[s])}},dotsNavigationClearClass(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];for(var n of e)for(var a of(n.classList.remove(t+"dot-active"),s))n.classList.remove(t+a);e[i]&&e[i].classList.add(t+"dot-active",t+s[0])},dotsNavigationFirstState(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3,r=0;r<n.length;r++)s=r<i+3?0:s+1<a?s+1:a-1,n[r].classList.add(t+e[s])},dotsNavigationSecondState(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;n[0].classList.add(t+e[1]);for(var r=i+1;r<n.length;r++)n[r].classList.add(t+e[s]),s=s<a-1?s+1:a-1},dotsNavigationLastState(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3,r=i;r>=0;r--)s=r>i-3?0:s+1<a?s+1:a-1,n[r].classList.add(t+e[s])},dotsNavigationSecondLastState(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;this.$refs["array-dots"][n.length-1].classList.add(t+e[1]);for(var r=i-1;r>=0;r--)n[r].classList.add(t+e[s]),s=s<a-1?s+1:a-1},setActiveDot(t){return 2===t&&(this.flagIsSecondRound=!0),this.isCloned()&&this.flagIsSecondRound?0===this.currentActive?1:0:t},isCloned(){return 2===parseInt(this.itemsCount)&&this.isCircular}}}},767:function(t,i,s){var e=s(19),n=s(1171);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var a={insert:"head",singleton:!1};e(n,a);t.exports=n.locals||{}}}]);