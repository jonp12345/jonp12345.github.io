(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{1156:function(e,t,a){"use strict";a(760)},1157:function(e,t,a){},1158:function(e,t,a){"use strict";a(761)},1159:function(e,t,a){},1426:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dataItems?a("div",{staticClass:"multilevel-modal",class:e.theme},[a("div",{staticClass:"multilevel-modal__main-content"},[a("subaru-search",{staticClass:"multilevel-modal__search-component",attrs:{isSearchModalOpen:e.isMobileModalOpened,searchResultsUrl:e.searchResultsUrl}}),e._v(" "),a("div",{staticClass:"multilevel-modal__links-container"},[a("subaru-multifield-links",{attrs:{"link-list":e.items,title:e.title,"animation-class":"slide-left","use-modals":!1},on:{"open-modal":e.openSubmodal}})],1)],1),e._v(" "),a("modalTemplate",{attrs:{index:e.mobileSubmenuIndex,animationDuration:e.animationDuration,isSubModalOpened:e.isSubModalOpened,isSubNestedModalOpened:e.isSubNestedModalOpened,fragmentTitle:e.fragmentTitle,"initial-data":e.nestedModalData,"selected-data":e.modalSelected},on:{backModal:function(t){return e.backModal(e.searchIndex,!0)},"initial-setup":e.setModalData,"item-clicked":e.itemClicked,closeModal:function(t){return e.setMobileModal(!1,!0)}},scopedSlots:e._u([{key:"modal",fn:function(){return[e._t("fragments")]},proxy:!0}],null,!0)}),e._v(" "),a("modalTemplate",{attrs:{index:e.mobileSubmenuIndex,isNestedModal:!0,animationDuration:e.animationDuration,isSubModalOpened:e.isSubModalOpened,isSubNestedModalOpened:e.isSubNestedModalOpened,"initial-data":e.modalData,"selected-data":e.selectedItem},on:{backModal:e.backNestedModal,"initial-setup":e.setNestedModalData,"item-clicked":function(t){e.modalSelected=t},closeModal:function(t){return e.setMobileModal(!1,!0)}},scopedSlots:e._u([{key:"modal",fn:function(){return[e._t("nestedfragments")]},proxy:!0}],null,!0)})],1):e._e()};l._withStripped=!0;var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"droppables-container",staticClass:"multilevel-modal__fragment-container",class:[{"multilevel-modal__fragment-container--open":e.isSubModalOpened&&!e.isNestedModal||e.isSubNestedModalOpened&&e.isNestedModal},{"multilevel-modal__fragment-container--nestedopen":e.isSubNestedModalOpened&&!e.isNestedModal}]},[a("div",{staticClass:"multilevel-modal__fragment-container--header"},[a("a",{staticClass:"multilevel-modal__fragment-container--back-button",attrs:{href:"#",tabindex:"0",role:"button","aria-label":"back"},on:{click:e.backModal}},[a("svg",{staticClass:"multilevel-modal__fragment-container--caret",attrs:{"data-name":"Layer 1",width:"15px",xmlns:"http://www.w3.org/2000/svg",viewBox:"5 5 16 16"}},[a("polyline",{staticClass:"icon-path icon-path--blue icon-path--round",attrs:{points:"18.07 23.64 6.93 12.5 18.07 1.36"}})])]),e._v(" "),e.showHeading?a("h5",{staticClass:"multilevel-modal__fragment-container--title"},[e._v(e._s(e.isNestedModal&&e.selectedData.data?e.selectedData.data.name:e.fragmentTitle))]):e._e(),e._v(" "),a("a",{staticClass:"multilevel-modal__fragment-container--close-button",attrs:{href:"#",tabindex:"0",role:"button","aria-label":"close"},on:{click:e.modalClosed}},[a("svg",{attrs:{width:"15px",height:"15px",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 15"}},[a("polyline",{staticClass:"icon-path icon-path--blue icon-path--round",attrs:{points:"1.26 1.26 7.5 7.5 1.25 13.74"}}),e._v(" "),a("polyline",{staticClass:"icon-path icon-path--blue icon-path--round",attrs:{points:"13.74 13.74 7.5 7.5 13.75 1.26"}})])])]),e._v(" "),a("div",{ref:"droppables",staticClass:"hidden"},[e._t("modal")],2),e._v(" "),a("div",{staticClass:"multilevel-modal__fragment-container--droppables"},[a("div",{staticClass:"multilevel-modal__fragment-container__experience-fragments"},e._l(e.modals,(function(t,l){return a("div",{key:l,class:["multilevel-modal__fragment-container--exFragment white-theme",{"hide-modal":t.hidden},{"slide-close":t.closed},{"slide-open":t.opened},{"no-padding":e.isNestedModal}]},e._l(t.components,(function(t,l){return a("div",{key:l},[a(t,e._b({tag:"component",attrs:{selectedItem:t.propsData.selectedItem,customClass:"slide-left",isMobileNestedModal:e.isNestedModal,showCaret:"buttons",caretSize:"large",showAnimation:!1,data:t.propsData.data},on:{"item-changed":function(a){return e.itemChanged(a,t.fragmentId)},"initial-setup":function(a){return e.initialSetup(a,t.fragmentId)}}},"component",t.propsData,!1))],1)})),0)})),0)])])};i._withStripped=!0;var n={name:"multilevel-modal-template",props:{index:{type:Number},isNestedModal:{type:Boolean,default:!1},isSubModalOpened:{type:Boolean,default:!1},isSubNestedModalOpened:{type:Boolean,default:!1},fragmentTitle:{type:String,default:""},animationDuration:{type:Number},initialData:{type:Object,default:()=>({})},selectedData:{type:Object,default:()=>({})}},data:()=>({modals:[],currentModal:{},data:[]}),mounted(){var e={};this.$children.forEach((t,a)=>{var l=t.$el.closest("[fragment-index]").getAttribute("fragment-index");t.$options.fragmentId=l,e[l]?e[l].components.push(t.$options):e[l]={id:l,hidden:!0,closed:!0,opened:!1,components:[t.$options]}}),this.modals=e,this.$refs.droppables.remove()},watch:{isSubModalOpened:function(e){this.isNestedModal||(e?this.openModal():this.closeModal())},isSubNestedModalOpened:function(e){this.isNestedModal&&e&&this.openModal()},initialData:function(e){var t;null!==(t=this.modals[e.id])&&void 0!==t&&t.components.length&&(this.modals[e.id].components.find(t=>t.fragmentId==e.id).propsData.data=e.data)},selectedData:function(e){var t;null!==(t=this.modals[e.id])&&void 0!==t&&t.components.length&&(this.modals[e.id].components.find(t=>t.fragmentId==e.id).propsData.selectedItem=e.data)}},computed:{showHeading(){return this.isNestedModal&&this.selectedData.data||this.fragmentTitle}},methods:{initialSetup(e,t){this.$emit("initial-setup",{data:e,id:t})},backModal(e){e.preventDefault&&e.preventDefault(),this.$emit("backModal")},modalClosed(e){e.preventDefault&&e.preventDefault(),this.$emit("closeModal")},itemChanged(e,t){this.$emit("item-clicked",{data:e,id:t})},openModal(){this.currentModal=this.modals[this.index],this.currentModal.hidden=!1,setTimeout(()=>{this.currentModal.closed=!1,this.currentModal.opened=!0},this.animationDuration)},closeModal(){setTimeout(()=>{this.currentModal.hidden=!0,this.currentModal.closed=!0},this.animationDuration)}}},o=(a(1156),a(4)),s=Object(o.a)(n,i,[],!1,null,null,null);s.options.__file="content/jcr_root/apps/subaru/components/content/commons/Multilevel_Modal/webpack.module/js/Modal_Template.vue";var d=s.exports,r={name:"subaru-multilevel-modal",props:{theme:{type:String,default:""},title:{type:String,default:""},items:{type:String,default:""},searchResultsUrl:{type:String,default:""}},data:()=>({fragmentTitle:"",openModalId:-1,animationDuration:400,modalData:{},nestedModalData:{},selectedItem:{},modalSelected:{},mobileSubmenuIndex:null,mobileSubnestedmenuIndex:null,isMobileModalOpened:!1,isSubModalOpened:!1,isSubNestedModalOpened:!1,modalIsClosing:!1,parentModal:null,searchIndex:7}),mounted(){document.addEventListener("keydown",e=>{27==e.keyCode&&this.isSubModalOpened&&this.setMobileModal(!1,!0)}),this.parentModal=this.$parent},computed:{dataItems(){return this.items.length?JSON.parse(this.items.replace(/'/g,'"')):[]}},methods:{openModal(e){var t=this.dataItems[this.mobileSubmenuIndex];"true"===(null==t?void 0:t.openInModal)&&(this.fragmentTitle=t.fragmentTitle||t.textLink,this.setMobileSubmodal(!0,!0)),e&&this.parentModal.$emit("mobileNavEvents",{setMobileModal:!0})},closeModal(e){this.isSubModalOpened&&(this.modalIsClosing=!0,setTimeout(()=>{this.modalIsClosing=!1},this.animationDuration)),e&&this.parentModal.$emit("mobileNavEvents",{setMobileModal:!1}),this.isSubNestedModalOpened&&this.backNestedModal(e),this.isSubModalOpened&&this.backModal(null,e)},openSubmodal(e){var t=this.dataItems[e];t&&"true"===t.openInModal&&(this.fragmentTitle=t.fragmentTitle||t.textLink,this.setMobileSubmenuIndex(e,!0),this.setMobileSubmodal(!0,!0))},itemClicked(e){this.setMobileSubnestedmenuIndex(e.data,!0),this.setMobileSubnestedmodal(!0,!0)},backModal(e,t){this.fragmentTitle="",this.setMobileSubmenuIndex(e,t),this.setMobileSubmodal(!1,t)},backNestedModal(){this.setMobileSubnestedmodal(!1,!0)},setModalData(e){this.modalData=e},setNestedModalData(e){this.nestedModalData=e},setMobileSubmenuIndex(e,t){this.mobileSubmenuIndex=e,t&&this.parentModal.$emit("mobileNavEvents",{setMobileSubmenuIndex:e})},setMobileSubnestedmenuIndex(e,t){this.mobileSubnestedmenuIndex=e,this.selectedItem={data:e,id:this.mobileSubmenuIndex},t&&this.parentModal.$emit("mobileNavEvents",{setMobileSubnestedmenuIndex:e})},setMobileModal(e,t){this.isMobileModalOpened=e,e?this.mobileSubmenuIndex?setTimeout(()=>{this.openModal(t)},100):this.openModal(t):this.closeModal(t)},setMobileSubmodal(e,t){var a=this.parentModal.el.children[0];this.isSubModalOpened=e,e&&a?a.style.right="100%":a&&(a.style.right="",this.modalIsClosing&&(a.style.transition="none",setTimeout(()=>{a.style.transition=""},this.animationDuration))),t&&this.parentModal.$emit("mobileNavEvents",{setMobileSubmodal:e})},setMobileSubnestedmodal(e,t){this.isSubNestedModalOpened=e,t&&this.parentModal.$emit("mobileNavEvents",{setMobileSubnestedmodal:e})},setDataFromExterior(e,t){for(var[a,l]of(this.parentModal||(this.parentModal=t),Object.entries(e)))this[a](l)}},components:{modalTemplate:d}},m=(a(1158),Object(o.a)(r,l,[],!1,null,null,null));m.options.__file="content/jcr_root/apps/subaru/components/content/commons/Multilevel_Modal/webpack.module/js/Multilevel_Modal.vue";t.default=m.exports},760:function(e,t,a){var l=a(19),i=a(1157);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var n={insert:"head",singleton:!1};l(i,n);e.exports=i.locals||{}},761:function(e,t,a){var l=a(19),i=a(1159);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var n={insert:"head",singleton:!1};l(i,n);e.exports=i.locals||{}}}]);