(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{1186:function(t,e,i){"use strict";i(775)},1187:function(t,e,i){},1472:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{keydown:t.escHandler,click:t.handleCloseSubNav}},[i("header",{directives:[{name:"show",rawName:"v-show",value:!this.$store.getters.hideGlobalNavigation&&t.isNakedTemplate,expression:"!this.$store.getters.hideGlobalNavigation && isNakedTemplate"}],ref:"main-navigation",staticClass:"navigation_001",attrs:{"aria-label":"Main Navigation"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:"offsiteRibbon"!==t.layout,expression:"layout !== 'offsiteRibbon'"}]},[i("a",{staticClass:"skipnav",attrs:{tabindex:"0",href:"#main"},on:{click:t.scrolltoMainContent,focus:t.focusMainContent}},[t._v(t._s(this.getGlobalSkipText))]),t._v(" "),i("div",{staticClass:"main-navigation",attrs:{"data-position":"close"}},[i("div",{staticClass:"main-navigation__container"},[i("div",{staticClass:"main-navigation__logo"},[i("a",{staticClass:"main-navigation__logo-cta",attrs:{href:t.indexUrl,"data-soa-analytics-link-name":"Subaru Logo","data-soa-analytics-link-type":"cta_image"}},[i("subaru-image",{staticClass:"main-navigation__logo-container main-navigation__logo-img",attrs:{"alt-xl":t.getNavLogoAlternativeText,fmt:"png",fit:"constrain",src:t.logoSrc,pixelWidthXl:160,"opt-lg":20,"opt-md":20,"opt-sm":50}})],1)]),t._v(" "),"lg"===t.currentBreakpoint||"xl"===t.currentBreakpoint?i("nav",{ref:"navItemGlobal",staticClass:"main-navigation__nav-group main-navigation__nav-group--main-links",attrs:{"aria-label":"Main Navigation menu"}},[i("ul",{staticClass:"clean"},[i("li",{staticClass:"main-navigation__nav-group-item"},[i("a",{ref:"nav-item-vehicles",staticClass:"main-navigation__nav-group-link nav-primary",attrs:{"aria-haspopup":"true","data-soa-analytics-link-name":t.getGlobalVehiclesText,"data-soa-analytics-link-type":"navigation:text_link","aria-controls":"main-navigation__vehicles-subnav",href:"#","data-index":"1"},on:{click:function(e){return t.navEvents(e)}}},[t._v("\n                  "+t._s(this.getGlobalVehiclesText)+"\n                ")])]),t._v(" "),i("li",{staticClass:"main-navigation__nav-group-item"},[i("a",{ref:"nav-item-buildAndPrice",staticClass:"main-navigation__nav-group-link nav-primary no-popup",attrs:{"data-soa-analytics-link-name":t.getGlobalBuildAndPriceText,"data-soa-analytics-link-type":"navigation:text_link",href:t.buildAndPriceUrl,target:"_self","data-index":"2"}},[t._v("\n                  "+t._s(this.getGlobalBuildAndPriceText)+"\n                ")])]),t._v(" "),i("li",{staticClass:"main-navigation__nav-group-item"},[i("a",{ref:"nav-item-shoppingTools",staticClass:"main-navigation__nav-group-link nav-primary",attrs:{"data-soa-analytics-link-name":t.getGlobalShoppingToolsText,"data-soa-analytics-link-type":"navigation:text_link","aria-haspopup":"true","aria-controls":"main-navigation__shopping-tools-subnav",href:"#","data-index":"3"},on:{click:function(e){return t.navEvents(e)}}},[t._v("\n                  "+t._s(this.getGlobalShoppingToolsText)+"\n                ")])]),t._v(" "),i("li",{staticClass:"main-navigation__nav-group-item"},[i("a",{ref:"nav-item-ourCommitment",staticClass:"main-navigation__nav-group-link nav-primary",attrs:{"aria-haspopup":"true","data-soa-analytics-link-name":t.getGlobalOurCommitmentText,"data-soa-analytics-link-type":"navigation:text_link","aria-controls":"main-navigation__our-commitment-subnav",href:"#","data-index":"4"},on:{click:function(e){return t.navEvents(e)}}},[t._v("\n                  "+t._s(this.getGlobalOurCommitmentText)+"\n                ")])]),t._v(" "),i("li",{staticClass:"main-navigation__nav-group-item"},[i("a",{ref:"nav-item-owners",staticClass:"main-navigation__nav-group-link nav-primary",attrs:{"data-soa-analytics-link-name":t.getGlobalOwnersText,"data-soa-analytics-link-type":"navigation:text_link","aria-haspopup":"true","aria-controls":"main-navigation__owners-subnav",href:"#","data-index":"5"},on:{click:function(e){return t.navEvents(e)}}},[t._v("\n                  "+t._s(this.getGlobalOwnersText)+"\n                ")])])])]):t._e(),t._v(" "),"lg"===t.currentBreakpoint||"xl"===t.currentBreakpoint?i("nav",{staticClass:"main-navigation__nav-group main-navigation__nav-group--more-links",attrs:{"aria-label":"Secondary menu"}},[i("ul",{staticClass:"clean"},[i("li",{staticClass:"main-navigation__nav-group-item"},[i("a",{staticClass:"main-navigation__nav-group-link nav-primary no-popup",attrs:{href:t.findRetailerUrl,"data-soa-analytics-link-name":t.getGlobalFindARetailerText,"data-soa-analytics-link-type":"navigation:text_link"}},[t._v("\n                  "+t._s(this.getGlobalFindARetailerText)+"\n                ")])]),t._v(" "),i("li",{staticClass:"main-navigation__nav-group-item"},[i("a",{staticClass:"main-navigation__nav-group-link search-modal-trigger",attrs:{href:"#","aria-label":"search","data-soa-analytics-link-name":"search","data-soa-analytics-link-type":"navigation:image_link"},on:{click:t.openGlobalSearchModal}},[i("svg",{staticClass:"search__icon",attrs:{disabled:"",id:"search__icon","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",width:"30px",viewBox:"5 5 20 20"}},[i("title",[t._v(t._s(this.getSearchTitle))]),t._v(" "),i("path",{staticClass:"icon-path icon-path--grey-text",attrs:{d:"M13.52,7.3a6.16,6.16,0,1,1-6.18,6.16A6.17,6.17,0,0,1,13.52,7.3Z"}}),t._v(" "),i("line",{staticClass:"icon-line icon-path--grey-text",attrs:{x1:"18.28",y1:"17.38",x2:"22.66",y2:"21.75"}})])])])])]):t._e(),t._v(" "),"sm"===t.currentBreakpoint||"md"===t.currentBreakpoint?i("nav",{staticClass:"main-navigation__nav-group main-navigation__nav-group--menu-links",attrs:{"aria-label":"Mobile Menu"}},[i("ul",{staticClass:"clean"},[i("li",{staticClass:"main-navigation__nav-group-item"},[i("a",{staticClass:"main-navigation__nav-group-link open-mobile-menu",attrs:{href:"#"},on:{click:t.openMobileModal}},[t._v(t._s(this.getGlobalMenuText))])])])]):t._e()]),t._v(" "),i("div",{staticClass:"main-navigation__subnav-container main-navigation__subnav-container--centered",attrs:{id:"main-navigation__vehicles-subnav","aria-hidden":"true","aria-expanded":"false"}},[i("div",{class:"main-navigation__subnav-content subnav-vehicles "+this.MULTILINKS_ACTIVATION_CLASS_CLOSE},[t._t("navigationVehiclesXF")],2)]),t._v(" "),i("div",{staticClass:"main-navigation__subnav-container",attrs:{id:"main-navigation__shopping-tools-subnav","aria-hidden":"true","aria-expanded":"false"}},[i("div",{staticClass:"main-navigation__subnav-content"},[t._t("shoppingToolsXF")],2)]),t._v(" "),i("div",{staticClass:"main-navigation__subnav-container",attrs:{id:"main-navigation__our-commitment-subnav","aria-hidden":"true","aria-expanded":"false"}},[i("div",{staticClass:"main-navigation__subnav-content"},[t._t("ourCommitmentXF")],2)]),t._v(" "),i("div",{staticClass:"main-navigation__subnav-container",attrs:{id:"main-navigation__owners-subnav","aria-hidden":"true","aria-expanded":"false"}},[i("div",{staticClass:"main-navigation__subnav-content"},[t._t("ownersXF")],2)])]),t._v(" "),i("modal-wrapper",{ref:"mobileModalWrapper",attrs:{"open-modal":t.isMobileModalOpened,"esc-key-capture-unlocked":!1,"modal-props":t.mobileModalConfig},on:{mobileNavEvents:t.setDataFromMobile,modalClosed:function(e){return t.setMobileModal(!1)}}},[t._t("mobileXF")],2),t._v(" "),i("modal-wrapper",{directives:[{name:"show",rawName:"v-show",value:"lg"===t.currentBreakpoint||"xl"===t.currentBreakpoint,expression:"currentBreakpoint === 'lg' || currentBreakpoint === 'xl'"}],ref:"desktopModalWrapper",attrs:{"open-modal":t.isSearchModalOpen,"modal-props":t.searchModalConfig},on:{modalClosed:t.closeGlobalSearchModal}},[i("div",[i("subaru-search",{ref:"globalSearchWrapper",attrs:{isService:!1,isSearchModalOpen:t.isSearchModalOpen,searchResultsUrl:t.searchResultsUrl}}),t._v(" "),t._t("searchXF")],2)])],1),t._v(" "),"homepage"===t.layout||this.$store.getters.hideGlobalRibbon?t._e():i("subaru-ribbon",{attrs:{title:t.title,"layout-data":this.layoutData,"page-navigation":t.pageNavigation,"page-title":t.pageTitle,"page-title-mobile":t.getComponentNavigationRibbonBack,"docking-disabled":t.ribbonDockingDisabled,"layout-data-source":this.ribbonLayoutDataSource}})],1)])};a._withStripped=!0;var s=i(79),n={name:"subaru-nav",components:{modalWrapper:s.default},props:{title:{type:String,default:""},pageTitle:{type:String,default:""},layoutData:{type:String,default:""},layout:{type:String,default:""},pageNavigation:{type:String,default:""},ribbonPercentageValue:{type:Number,default:null},logoSrc:{type:String,default:""},buildAndPriceUrl:{type:String,default(){return this.$subaruConsts.pageUrls.build}},findRetailerUrl:{type:String,default(){return this.$subaruConsts.pageUrls.findRetailer}},activeNavigationItem:{type:String,default:"none"},ribbonDockingDisabled:{type:Boolean,default:!1},ribbonLayoutDataSource:{type:String,default:""},searchResultsUrl:{type:String},indexUrl:{type:String,default(){return this.$subaruConsts.pageUrls.index}}},data:function(){return{defaultLabels:{globalSkipText:"Skip to main content",globalVehiclesText:"Vehicles",globalBuildAndPriceText:"Build & Price",globalShoppingToolsText:"Shopping Tools",globalOurCommitmentText:"Our Commitment",globalOwnersText:"Owners",globalFindARetailerText:"Find a Retailer",globalMenuText:"Menu",componentNavigationRibbonBack:"Back",globalSearchText:"Search",navidationLogoAltText:"Subaru Of America Web Site"},STATES:{open:"open",initial:"initial"},POSITIONS:{fixed:"fixed",static:"static"},BREAKPOINTS:{desktop:"desktopMode",mobile:"mobileMode"},COMPONENT_CLASS:"navigation_001",PAGE_CONTAINER_CLASS:".page-container",FIXED_MODIFIER:"--fixed",SUBNAV_CONTAINERS:{"main-navigation__vehicles-subnav":null,"main-navigation__shopping-tools-subnav":null,"main-navigation__our-commitment-subnav":null,"main-navigation__owners-subnav":null},SUBNAV_CONTAINERS_INDEX:{"main-navigation__vehicles-subnav":1,"main-navigation__shopping-tools-subnav":3,"main-navigation__our-commitment-subnav":4,"main-navigation__owners-subnav":5},FOCUSTRAP_CONTAINERS:{},CONTROLS_ATT:"aria-controls",MAIN_NAVIGATION:"main-navigation",LINKS_CLASS:"__nav-group-link",SUBNAV_CONTAINER:"__subnav-container",SUBNAV_CONTENT_SELECTOR:"",ACTIVE_MODIFIER:"--active",OPEN_MODIFIER:"--open",CENTERED_MODIFIER:"--centered",TOP_SUBNAV_TRANSITION:"top 0.4s cubic-bezier(0.55, 0.09, 0.68, 0.53) 0s",SCAPE_KEY_VALUE:"Escape",IE_SCAPE_KEY_VALUE:"Esc",OPEN_SUBNAV_SELECTOR:"",CENTERED_SUBNAV_SELECTOR:"",LINK_SELECTOR:"",LINK_ACTIVE_SELECTOR:"",MULTILINKS_ACTIVATION_CLASS_OPEN:"slide-open",MULTILINKS_ACTIVATION_CLASS_CLOSE:"slide-close",position:"static",lastScrollTop:null,cache:{},pageContainer:null,currentBreakpoint:"",currentBreakpointMode:"",state:"initial",activeLink:null,isIE:null,isSearchModalOpen:!1,minWaitTime:1e3,modalFadeOutTime:250,defaultLink:null,scrollBar:document.createElement("div"),scrollBarWidth:null,mobileSubmenuIndex:null,mobileSubnestedmenuIndex:null,isMobileModalOpened:!1,isMobileSubmodalOpened:!1,isMobileSubnestedmodalOpened:!1,navigationVehicles:{},navigationVehiclesDefaultCategory:0,closingModalFromMobile:!1}},watch:{currentBreakpoint(t){this.cache.navDropdownLinks&&this.verifyMargin()},currentBreakpointMode(t){t===this.BREAKPOINTS.desktop&&this.mobileSubmenuIndex&&(this.isMobileSubnestedmodalOpened&&this.setMobileSubnestedmodal(!1),this.isMobileSubmodalOpened&&this.setMobileSubmodal(!1),this.isMobileModalOpened&&this.closeMobileModal(),setTimeout(()=>{7==this.mobileSubmenuIndex?this.isSearchModalOpen=!0:this.navEvents(this.$el.querySelectorAll(".main-navigation__nav-group-link")[this.mobileSubmenuIndex-1])},this.minWaitTime)),t===this.BREAKPOINTS.mobile&&((this.isSearchModalOpen||this.state===this.STATES.open)&&setTimeout(()=>{this.openMobileModal(),1==this.mobileSubmenuIndex&&setTimeout(()=>{this.setMobileSubnestedmodal(!0)},this.minWaitTime)},this.minWaitTime),this.isSearchModalOpen&&this.$refs.desktopModalWrapper.closeModalNoClick(),this.state===this.STATES.open&&this.closeSubNav(!1))},"navigationVehicles.selectedCategory":{handler:function(t){var e;(null===(e=this.mobileSubnestedmenuIndex)||void 0===e?void 0:e.index)!=t.index&&this.setMobileSubnestedmenuIndex(t)}}},computed:{getNavLogoAlternativeText(){return this.$store.getters.getTranslation("navigation-logo-alternative-text")||this.defaultLabels.navidationLogoAltText},ribbonPercentage:function(){return this.ribbonPercentageValue/100},searchModalConfig:()=>JSON.stringify({modalTitle:"",animationsSelected:"md501--variant-medium",themeSelected:"md501--midnight-theme",customClasses:"global-search",ariaLabel:"Site Wide Search",autoClose:!1}),mobileModalConfig:()=>JSON.stringify({modalTitle:"",animationsSelected:"md501--variant-sidepanel",themeSelected:"md501--midnight-theme",customClasses:"mobile-menu",ariaLabel:"Mobile Menu",autoClose:!1}),isNakedTemplate(){return"homepage"===this.layout||"normalPage"===this.layout||"offsiteRibbon"===this.layout||!this.layout},getGlobalSkipText(){return this.$store.getters.getTranslation("global-skip-text")||this.defaultLabels.globalSkipText},getGlobalVehiclesText(){return this.$store.getters.getTranslation("global-vehicles-text")||this.defaultLabels.globalVehiclesText},getGlobalBuildAndPriceText(){return this.$store.getters.getTranslation("global-build-and-price-text")||this.defaultLabels.globalBuildAndPriceText},getGlobalShoppingToolsText(){return this.$store.getters.getTranslation("global-shopping-tools-text")||this.defaultLabels.globalShoppingToolsText},getGlobalOurCommitmentText(){return this.$store.getters.getTranslation("global-our-commitment-text")||this.defaultLabels.globalOurCommitmentText},getGlobalOwnersText(){return this.$store.getters.getTranslation("global-owners-text")||this.defaultLabels.globalOwnersText},getGlobalFindARetailerText(){return this.$store.getters.getTranslation("global-find-a-retailer-text")||this.defaultLabels.globalFindARetailerText},getGlobalMenuText(){return this.$store.getters.getTranslation("global-menu-text")||this.defaultLabels.globalMenuText},getComponentNavigationRibbonBack(){return this.$store.getters.getTranslation("component-navigation-ribbon-back")||this.defaultLabels.componentNavigationRibbonBack},getSearchTitle(){return this.$store.getters.getTranslation("search")||this.defaultLabels.globalSearchText}},mounted(){document.body.appendChild(this.scrollBar),this.scrollBar.classList.add("scroll-bar"),this.currentBreakpoint=this.$subaruUtils.getCurrentMediaMatch(),this.currentBreakpointMode="sm"==this.currentBreakpoint||"md"==this.currentBreakpoint?this.BREAKPOINTS.mobile:this.BREAKPOINTS.desktop,this.setup(),this.$subaruHelpers.pageOverlay.clickObserver.subscribe(t=>{t.preventDefault(),t.stopPropagation(),this.closeSubNav()}),this.setSelectedNav(),document.addEventListener("keydown",t=>{27!=t.keyCode||this.isMobileSubmodalOpened||this.closeMobileModal()})},methods:{setup(){this.variablesBuilder(),this.verifyMargin(),this.bindEvents(),this.setContainers();var t=this.$subaruUtils.getUrlParams();this.defaultLink=this.$refs["nav-item-".concat(t.navSection)]||this.$refs["nav-item-".concat(this.activeNavigationItem)],this.defaultLink&&(this.defaultLink.classList.add("main-navigation__nav-group-link--active"),this.activeLink=this.defaultLink)},variablesBuilder(){this.pageContainer=document.body.querySelector(this.PAGE_CONTAINER_CLASS),this.isNormalPage="normalPage"===this.layout,this.cache.header=this.$el.querySelector(".navigation_001"),this.cache.mainNav=this.$el.querySelector(".main-navigation"),this.cache.mainNavContainer=this.$el.querySelector(".main-navigation__container"),this.cache.mainNavLinks=this.$el.querySelectorAll(".main-navigation__nav-group-link"),this.cache.pageOverlay=document.querySelector(".page-overlay"),this.cache.navDropdownLinks=document.querySelectorAll(".nav-dropdown-link"),this.lastScrollTop=window.pageYOffset||document.documentElement.scrollTop,this.SUBNAV_CONTENT_SELECTOR=".".concat(this.MAIN_NAVIGATION,"__subnav-content"),this.OPEN_SUBNAV_SELECTOR=this.MAIN_NAVIGATION+this.SUBNAV_CONTAINER+this.OPEN_MODIFIER,this.LINK_SELECTOR=this.MAIN_NAVIGATION+this.LINKS_CLASS,this.LINK_ACTIVE_SELECTOR=this.LINK_SELECTOR+this.ACTIVE_MODIFIER,this.CENTERED_SUBNAV_SELECTOR=this.MAIN_NAVIGATION+this.SUBNAV_CONTAINER+this.CENTERED_MODIFIER,this.isIE=this.$subaruUtils.isIE()?"ie":"no-ie",this.$el.classList.add(this.isIE)},bindEvents(){this.$subaruServices.windowListener.resizeObserver.subscribe(t=>{var e=this.$subaruUtils.getCurrentMediaMatch();this.currentBreakpoint!==e&&(this.currentBreakpoint=e),"sm"!==this.currentBreakpoint&&"md"!==this.currentBreakpoint||this.currentBreakpointMode!==this.BREAKPOINTS.desktop?"lg"!==this.currentBreakpoint&&"xl"!==this.currentBreakpoint||(this.scrollBarWidth&&this.pageContainer.style.width&&this.showScrollBar(),this.currentBreakpointMode===this.BREAKPOINTS.mobile&&(this.currentBreakpointMode=this.BREAKPOINTS.desktop)):(this.hideScrollBar(),this.currentBreakpointMode=this.BREAKPOINTS.mobile)}),this.$subaruServices.windowListener.scrollObserver.subscribe(t=>{if(this.cache.header&&!this.cache.header.classList.contains(this.COMPONENT_CLASS+"--no-transition")){var e=window.pageYOffset||document.documentElement.scrollTop,i=this.lastScrollTop-e>=window.innerHeight*this.ribbonPercentage,a=this.isNormalPage?this.cache.mainNav.offsetHeight:this.$el.offsetHeight,s=!this.cache.mainNav||"open"!==this.cache.mainNav.getAttribute("data-position");if(e>this.$el.offsetHeight){var n=this.isNormalPage?-this.cache.mainNav.offsetHeight+"px":0;this.position===this.POSITIONS.static&&s&&!this.$store.getters.disableFixedNavigation?this.ribbonDockingDisabled||this.setFixState(n):i?this.cache.header.style.top=0:e>this.lastScrollTop&&s&&(this.cache.header.style.top=n,this.cache.mainNavLinks.forEach(t=>{t.setAttribute("aria-hidden",!0),t.setAttribute("tabIndex",-1)}))}else e<=a&&(this.cache.header.style.top=-e,this.cache.mainNavLinks.forEach(t=>{t.setAttribute("aria-hidden",!1),t.removeAttribute("tabIndex")}),("0px"!==this.cache.header.style.top||0===e&&this.isNakedTemplate)&&this.setStaticState(e));this.lastScrollTop=e}})},navEvents(t){for(var e=t.target||t;e&&!e.closest("."+this.LINK_SELECTOR)&&!e.closest("."+this.MAIN_NAVIGATION+this.SUBNAV_CONTAINER)&&e!==this.$el;)e=e.parentElement;if(e!==this.activeLink||e===this.defaultLink&&this.state!==this.STATES.open)if(e&&e.closest("."+this.LINK_SELECTOR)){t.stopPropagation&&t.stopPropagation(),this.cleanActiveNav(),this.activeLink&&this.activeLink===this.defaultLink&&this.targetElement!==this.activeLink&&this.activeLink.classList.remove("main-navigation__nav-group-link--active"),this.activeLink=e;var i=this.SUBNAV_CONTAINERS_INDEX[this.activeLink.getAttribute(this.CONTROLS_ATT)];i&&i!==this.mobileSubmenuIndex&&this.setMobileSubmenuIndex(i),1==this.mobileSubmenuIndex&&null==this.mobileSubnestedmenuIndex&&(this.navigationVehicles.selectedTab=this.navigationVehiclesDefaultCategory),this.activeLink.classList&&this.activeLink.classList.add(this.LINK_ACTIVE_SELECTOR),this.activeLink.hasAttribute(this.CONTROLS_ATT)?(t.preventDefault&&t.preventDefault(),this.scrollBarWidth=window.innerWidth-document.documentElement.clientWidth,this.scrollBarWidth&&this.showScrollBar(),this.hideActiveSubNav(()=>{var t,e=(null===(t=this.activeLink)||void 0===t?void 0:t.getAttribute(this.CONTROLS_ATT))||"";this.displaySubNavContent(e)})):this.state===this.STATES.open&&this.closeSubNav()}else e.closest("."+this.MAIN_NAVIGATION+this.SUBNAV_CONTAINER)||this.state!==this.STATES.open||this.closeSubNav();else t.preventDefault&&t.preventDefault(),this.state===this.STATES.open&&this.closeSubNav()},scrolltoMainContent(t){t.preventDefault();var e=document.querySelector(t.target.getAttribute("href"));e.setAttribute("tabindex",0),e.scrollIntoView({behavior:"smooth"}),e.focus()},focusMainContent(t){this.$subaruUtils.smoothScroll(".main-navigation",450)},escHandler(t){"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||this.closeSubNav()},verifyMargin(){this.cache.navDropdownLinks.forEach(t=>{t.style.marginTop="lg"===this.currentBreakpoint?"2px":""})},setFixState(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i="open"===(null===(t=this.cache.mainNav)||void 0===t?void 0:t.getAttribute("data-position"))||!1;this.position===this.POSITIONS.static&&(this.position=this.POSITIONS.fixed,0!==window.scrollY&&(this.cache.header.style.top=-this.$el.offsetHeight+"px"),this.pageContainer.style.paddingTop=this.$el.offsetHeight+"px",this.cache.header.classList.add(this.COMPONENT_CLASS+this.FIXED_MODIFIER),this.cache.header.style.top=i?0:e,this.cache.mainNav&&this.cache.mainNav.setAttribute("data-nav-position",this.position))},setStaticState(t){this.position===this.POSITIONS.fixed&&(this.position=this.POSITIONS.static,this.pageContainer.style.paddingTop="",this.cache.header.classList.remove(this.COMPONENT_CLASS+this.FIXED_MODIFIER),this.cache.header.style.top=0,this.cache.header.removeAttribute("style"),this.cache.mainNav&&this.cache.mainNav.setAttribute("data-nav-position",this.position))},cleanActiveNav(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!==(t=this.activeLink)&&void 0!==t&&t.classList&&("headerSubaNav"==this.$subaruHelpers.pageOverlay.modifier&&this.activeLink.focus(),this.activeLink.classList.remove(this.LINK_ACTIVE_SELECTOR),this.defaultLink?(this.defaultLink.classList.add("main-navigation__nav-group-link--active"),this.activeLink=this.defaultLink):(this.activeLink=null,e&&this.setMobileSubmenuIndex(null)))},hideActiveSubNav(t){this.cache.mainNav.setAttribute("data-position","close");var e=this.$el.querySelector("."+this.OPEN_SUBNAV_SELECTOR);e&&this.FOCUSTRAP_CONTAINERS[e.getAttribute("id")].deactivate();e?(e.style.overflowY="",e.style.transition=this.TOP_SUBNAV_TRANSITION,e.style.top=-(e.offsetHeight+this.$el.offsetHeight)+"px",setTimeout(()=>{e.style.maxHeight=0,e.querySelector(this.SUBNAV_CONTENT_SELECTOR).classList.remove(this.MULTILINKS_ACTIVATION_CLASS_OPEN),e.querySelector(this.SUBNAV_CONTENT_SELECTOR).classList.add(this.MULTILINKS_ACTIVATION_CLASS_CLOSE),e.classList.remove(this.OPEN_SUBNAV_SELECTOR),e.removeAttribute("style"),e.setAttribute("aria-hidden",!0),e.setAttribute("aria-expanded",!1),"function"==typeof t&&t()},400)):"function"==typeof t&&t()},displaySubNavContent(t){if(t&&"string"==typeof t&&this.SUBNAV_CONTAINERS.hasOwnProperty(t)){this.setContainers(),this.cache.mainNav.setAttribute("data-position","open"),this.cache.mainNavContainer.classList.remove("blur-content"),this.state=this.STATES.open,this.$el.setAttribute("data-state",this.state);var e=this.SUBNAV_CONTAINERS[t],i=this.FOCUSTRAP_CONTAINERS[t];if(e.setAttribute("aria-hidden",!1),e.setAttribute("aria-expanded",!0),"fixed"===this.$el.getAttribute("data-nav-state")){var a=this.getNavHeight();e.style.maxHeight="calc(100vh - "+a+"px)",setTimeout((function(){e.style.overflowY="auto"}),400)}if(i&&i.activate(),this.$subaruHelpers.pageOverlay.show({modifier:"headerSubaNav",hideScroll:!0}),e){if(!e.classList.contains(this.CENTERED_SUBNAV_SELECTOR)){var s=this.activeLink.parentElement.previousElementSibling,n=s?parseInt(window.getComputedStyle(s,null).getPropertyValue("padding-right")):0,o=100*(this.activeLink.parentElement.offsetLeft-n)/window.innerWidth;e.querySelector(this.SUBNAV_CONTENT_SELECTOR).parentElement.style.left=o+"%"}e.classList.add(this.OPEN_SUBNAV_SELECTOR),e.querySelector(this.SUBNAV_CONTENT_SELECTOR).classList.remove(this.MULTILINKS_ACTIVATION_CLASS_CLOSE),e.querySelector(this.SUBNAV_CONTENT_SELECTOR).classList.add(this.MULTILINKS_ACTIVATION_CLASS_OPEN),this.$subaruUtils.slideAnimation(e.querySelectorAll(".text-block > *"),{delay:80},{initialDelay:0}),this.$subaruUtils.slideAnimation(e.querySelectorAll("li"),{delay:80},{initialDelay:80}),this.$subaruUtils.slideAnimation(e.querySelectorAll(".subaru-multifield-links-container--global-vehicles .subaru-multifield-links-container__subaru-multifield-links-item"),{delay:100},{initialDelay:450})}}},handleCloseSubNav(t){t.target.classList.contains("main-navigation__subnav-container")||t.target.closest(".main-navigation__subnav-container")||t.target.classList.contains("ribbon__arrow")||t.target.closest(".ribbon__arrow")||this.closeSubNav()},closeSubNav(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.hideScrollBar(),7!==this.mobileSubmenuIndex&&t&&this.setMobileSubmenuIndex(null),this.$subaruHelpers.pageOverlay.hide(),this.cleanActiveNav(!1),this.defaultLink&&(this.defaultLink.classList.add("main-navigation__nav-group-link--active"),this.activeLink=this.defaultLink),this.hideActiveSubNav(),this.setDefaultItemActive(),this.state=this.STATES.initial,this.$el.setAttribute("data-state",this.state),this.cache.pageOverlay.style.zIndex=""},setDefaultItemActive(){"none"!==this.activeNavigationItem&&(this.defaultLink=this.$el.querySelector(".main-navigation__nav-group-link--active")||this.$refs["nav-item-".concat(this.activeNavigationItem)],this.activeLink=this.defaultLink,this.activeLink&&this.activeLink.classList.add(this.LINK_ACTIVE_SELECTOR))},openMobileModal(t){t&&t.preventDefault(),this.setMobileModal(!0),!this.mobileSubmenuIndex&&this.setMobileSubmenuIndex(7,!0)},setSelectedNav(){this.$subaruUtils.waitFor(()=>this.$refs.navItemGlobal,()=>{this.setDefaultItemActive()})},closeMobileModal(){this.$refs.mobileModalWrapper.closeModalNoClick()},openGlobalSearchModal(t){t.preventDefault(),this.$subaruUtils.waitFor(()=>this.$refs.desktopModalWrapper&&this.$refs.desktopModalWrapper.$el&&this.$refs.globalSearchWrapper,()=>{this.isSearchModalOpen=!0,this.cleanActiveNav(),this.setMobileSubmenuIndex(7),this.setMobileSubmodal(!1);var t=this.$refs.globalSearchWrapper.$refs.searchInput;setTimeout(()=>t.focus(),1e3)})},closeGlobalSearchModal(){this.$subaruHelpers.pageOverlay.hide(),this.cleanActiveNav(),this.setDefaultItemActive(),this.cache.pageOverlay.style.zIndex="",this.setMobileSubmenuIndex(null),this.isSearchModalOpen=!1},getNavHeight(){return this.$el.closest(this.COMPONENT_CLASS).offsetHeight},setContainers(){for(var t in this.SUBNAV_CONTAINERS)if(this.SUBNAV_CONTAINERS.hasOwnProperty(t)){var e=document.querySelector("#"+t),i=document.querySelector('a[aria-controls="'+t+'"]'),a=new this.$subaruHelpers.FocusTrap(e,{triggerElement:i});e&&(e.dataset.order=this.SUBNAV_CONTAINERS_INDEX[t],this.SUBNAV_CONTAINERS[t]=e,this.FOCUSTRAP_CONTAINERS[t]=a)}},setMobileSubmenuIndex(t,e){this.mobileSubmenuIndex=t,e||this.$refs.mobileModalWrapper.$children[0].setMobileSubmenuIndex(t)},setMobileSubnestedmenuIndex(t,e){this.mobileSubnestedmenuIndex=t,e?(this.navigationVehicles.selectedTab=t.index,this.navigationVehicles.selectedCategory=t):this.$refs.mobileModalWrapper.$children[0].setMobileSubnestedmenuIndex(t)},setMobileModal(t,e){e&&!t?(this.closeMobileModal(),this.closingModalFromMobile=!0):e||(this.isMobileModalOpened=t,this.closingModalFromMobile?this.closingModalFromMobile=!1:this.$refs.mobileModalWrapper.$children[0].setMobileModal(t))},setMobileSubmodal(t,e){this.isMobileSubmodalOpened=t,e||this.$refs.mobileModalWrapper.$children[0].setMobileSubmodal(t)},setMobileSubnestedmodal(t,e){this.isMobileSubnestedmodalOpened=t,e||this.$refs.mobileModalWrapper.$children[0].setMobileSubnestedmodal(t)},setDataFromMobile(t){for(var[e,i]of Object.entries(t))this[e](i,!0)},showScrollBar(){this.pageContainer.style.width=this.cache.header.style.width=window.innerWidth-this.scrollBarWidth+"px",this.scrollBar.style.display="block"},hideScrollBar(){this.pageContainer.style.width="",this.cache.header.style.width="",this.scrollBar.style.display="none"}}},o=(i(1186),i(4)),l=Object(o.a)(n,a,[],!1,null,null,null);l.options.__file="content/jcr_root/apps/subaru/components/structure/000/001_Navigation/webpack.module/js/001_Navigation.vue";e.default=l.exports},775:function(t,e,i){var a=i(19),s=i(1187);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[t.i,s,""]]);var n={insert:"head",singleton:!1};a(s,n);t.exports=s.locals||{}}}]);